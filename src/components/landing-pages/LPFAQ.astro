---
import { getLangFromUrl, useTranslations } from "../../utils/i18n";

const currentLang = getLangFromUrl(Astro.url);
const t = useTranslations(currentLang);

const faqs = [
  { question: t('lp.faq.q1'), answer: t('lp.faq.a1') },
  { question: t('lp.faq.q2'), answer: t('lp.faq.a2') },
  { question: t('lp.faq.q3'), answer: t('lp.faq.a3') },
  { question: t('lp.faq.q4'), answer: t('lp.faq.a4') },
  { question: t('lp.faq.q5'), answer: t('lp.faq.a5') },
];
---

<section class="relative bg-white py-16 md:py-20">
  <div class="container mx-auto px-4">

    <!-- Section Header -->
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold text-dark">
        Preguntas frecuentes
      </h2>
    </div>

    <!-- FAQ Accordion - Minimal -->
    <div class="max-w-2xl mx-auto space-y-3">
      {faqs.map((faq, index) => (
        <details class="group bg-white border border-gray-200 rounded-xl overflow-hidden hover:border-primary/30 transition-colors">
          <summary class="cursor-pointer flex items-center justify-between p-4 md:p-5 font-semibold text-dark hover:text-primary transition-colors">
            <span class="pr-4">{faq.question}</span>
            <svg class="w-5 h-5 text-primary flex-shrink-0 transform transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </summary>
          <div class="px-4 md:px-5 pb-4 md:pb-5 text-gray-600 text-sm md:text-base">
            {faq.answer}
          </div>
        </details>
      ))}
    </div>
  </div>
</section>

<style>
  /* Remove default summary marker */
  summary {
    list-style: none;
  }
  summary::-webkit-details-marker {
    display: none;
  }
</style>
