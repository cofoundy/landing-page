---
import { getLangFromUrl, useTranslations } from "../../utils/i18n";

const currentLang = getLangFromUrl(Astro.url);
const t = useTranslations(currentLang);

const problems = [
  { text: 'Plantilla genérica' },
  { text: 'Carga lento (>5 seg)' },
  { text: 'No convierte visitas' },
  { text: 'Sin métricas reales' }
];

const solutions = [
  { text: 'Código 100% tuyo' },
  { text: 'Carga en <2 seg' },
  { text: 'Diseño que vende' },
  { text: 'Métricas incluidas' }
];
---

<!-- OPCIÓN 2: SPLIT SCREEN -->
<section class="relative min-h-[600px] overflow-hidden">
  <div class="absolute inset-0 flex">
    <!-- Lado Problema (Oscuro) -->
    <div class="w-1/2 bg-gradient-to-br from-gray-900 via-gray-800 to-black relative">
      <div class="absolute inset-0 opacity-5" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,.05) 10px, rgba(255,255,255,.05) 20px);"></div>
    </div>

    <!-- Lado Solución (Claro) -->
    <div class="w-1/2 bg-gradient-to-br from-primary/10 via-primary/5 to-white relative">
      <div class="absolute inset-0 opacity-10" style="background-image: repeating-linear-gradient(-45deg, transparent, transparent 10px, rgba(70,160,208,.1) 10px, rgba(70,160,208,.1) 20px);"></div>
    </div>
  </div>

  <!-- Divisor Curvo SVG -->
  <div class="absolute inset-0 pointer-events-none">
    <svg class="absolute inset-0 w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
      <defs>
        <linearGradient id="divider-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" style="stop-color:#46A0D0;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#1B577E;stop-opacity:1" />
        </linearGradient>
      </defs>
      <path d="M 50 0 Q 45 50 50 100" stroke="url(#divider-gradient)" stroke-width="0.5" fill="none" />
    </svg>
  </div>

  <div class="container relative mx-auto px-4 py-16 md:py-24">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-6xl font-black mb-4">
        <span class="text-gray-300">¿Tu web no</span>
        <span class="text-white bg-gradient-to-r from-red-500 to-primary bg-clip-text text-transparent"> genera clientes</span><span class="text-gray-300">?</span>
      </h2>
    </div>

    <div class="grid md:grid-cols-2 gap-16 max-w-6xl mx-auto">
      <!-- PROBLEMA -->
      <div class="text-white">
        <div class="mb-8">
          <span class="inline-block px-6 py-2 bg-red-500/20 border-2 border-red-400 rounded-full text-red-200 font-bold text-sm">
            ❌ EL PROBLEMA
          </span>
        </div>

        <div class="space-y-6">
          {problems.map((problem) => (
            <div class="flex items-start gap-4">
              <div class="w-3 h-3 rounded-full bg-red-400 mt-2 flex-shrink-0"></div>
              <div>
                <p class="text-xl font-semibold text-gray-200">{problem.text}</p>
              </div>
            </div>
          ))}
        </div>

        <div class="mt-12 p-6 bg-black/30 backdrop-blur-sm rounded-2xl border border-red-400/20">
          <p class="text-sm text-gray-400 mb-2">Agencias tradicionales:</p>
          <p class="text-5xl font-black text-red-400">S/.15,000+</p>
          <p class="text-gray-400 mt-2">⏱️ 3-6 meses de espera</p>
        </div>
      </div>

      <!-- SOLUCIÓN -->
      <div class="text-dark">
        <div class="mb-8">
          <span class="inline-block px-6 py-2 bg-primary/20 border-2 border-primary rounded-full text-primary-dark font-bold text-sm">
            ✓ NUESTRA SOLUCIÓN
          </span>
        </div>

        <div class="space-y-6">
          {solutions.map((solution) => (
            <div class="flex items-start gap-4">
              <div class="w-3 h-3 rounded-full bg-primary mt-2 flex-shrink-0"></div>
              <div>
                <p class="text-xl font-semibold text-dark">{solution.text}</p>
              </div>
            </div>
          ))}
        </div>

        <div class="mt-12 p-6 bg-white/70 backdrop-blur-sm rounded-2xl border-2 border-primary shadow-xl">
          <p class="text-sm text-primary-dark mb-2 font-semibold">Cofoundy:</p>
          <p class="text-5xl font-black text-primary">S/.1,200</p>
          <p class="text-primary-dark mt-2 font-semibold">⚡ Listo en 5-7 días</p>
        </div>
      </div>
    </div>
  </div>
</section>
