---
import { getLangFromUrl, useTranslations } from "../../utils/i18n";

const currentLang = getLangFromUrl(Astro.url);
const t = useTranslations(currentLang);
---

<section class="relative min-h-screen bg-gradient-to-br from-white via-gray-50 to-blue-50 pt-20 pb-16 overflow-hidden">
  <!-- Mesh grid background with gradient mask -->
  <div class="absolute inset-0 bg-[linear-gradient(rgba(70,160,208,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(70,160,208,0.1)_1px,transparent_1px)] bg-[size:24px_24px] md:bg-[size:32px_32px] [mask-image:radial-gradient(ellipse_100%_100%_at_50%_-20%,#fff_70%,transparent_100%)]"></div>

  <!-- Floating shapes -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-1/4 left-1/4 w-64 md:w-96 h-64 md:h-96 bg-primary/20 rounded-full blur-3xl animate-float"></div>
    <div class="absolute bottom-1/4 right-1/4 w-64 md:w-96 h-64 md:h-96 bg-secondary/20 rounded-full blur-3xl animate-float-delayed"></div>
  </div>

  <!-- Particle effect -->
  <div class="particle-container">
    {
      Array.from({ length: 30 }).map((_, i) => (
        <div
          class="particle"
          style={`--delay: ${i * 0.3}s; --size: ${Math.random() * 3 + 1}px; --start-x: ${Math.random() * 100}%;`}
        />
      ))
    }
  </div>

  <div class="container relative mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex flex-col lg:flex-row items-center gap-8 sm:gap-10 lg:gap-16 min-h-[calc(100vh-8rem)] py-8 sm:py-12 lg:py-0">

      <!-- Left Column: Content -->
      <div class="flex-1 text-center lg:text-left max-w-2xl lg:max-w-none w-full">
        <!-- Badge superior -->
        <div class="inline-block mb-3 sm:mb-4 px-3 sm:px-4 py-1.5 sm:py-2 bg-primary/10 border border-primary/20 rounded-full text-xs sm:text-sm font-semibold text-dark">
          {t('lp.hero.badge')}
        </div>

        <!-- Pre-headline -->
        <p class="text-sm sm:text-base md:text-lg text-gray-600 mb-3 sm:mb-4 font-medium px-4 sm:px-0">
          {t('lp.hero.preheadline')}
        </p>

        <!-- H1 - Main headline with gradient text -->
        <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold leading-tight mb-4 sm:mb-6 max-w-4xl mx-auto lg:mx-0 px-2 sm:px-0">
          <span class="bg-gradient-to-r from-dark via-primary to-secondary bg-clip-text text-transparent">
            Tu Landing Page Lista en 7 DÃ­as â€” O No Pagas
          </span>
        </h1>

        <!-- Subheadline -->
        <p class="text-base sm:text-lg md:text-xl text-gray-600 mb-6 sm:mb-8 leading-relaxed max-w-xl mx-auto lg:mx-0 px-4 sm:px-0">
          {t('lp.hero.subtitle')}
        </p>

        <!-- CTA Button (solo principal) -->
        <div class="flex flex-col items-center lg:items-start gap-3 sm:gap-4 mb-8 sm:mb-10">
          <a
            href="https://wa.link/3wf2cv"
            target="_blank"
            rel="noopener noreferrer"
            onclick="gtag_report_conversion('https://wa.link/3wf2cv'); return false;"
            class="group inline-flex items-center justify-center px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-semibold text-white bg-gradient-to-r from-primary to-primary-dark rounded-xl hover:shadow-2xl transition-all duration-300 shadow-lg hover:-translate-y-1 w-full sm:w-auto max-w-md"
            data-gtm-action="click"
            data-gtm-category="landing-pages"
            data-gtm-label="hero-cta-primary"
          >
            ðŸš€ Quiero Mi Landing en 7 DÃ­as
            <svg class="w-4 h-4 sm:w-5 sm:h-5 ml-2 transform transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>

          <!-- Disclaimer pequeÃ±o -->
          <p class="text-xs sm:text-sm text-gray-500 max-w-md text-center lg:text-left px-4 sm:px-0">
            Solo aceptamos 5 proyectos por mes
          </p>
        </div>

        <!-- Stats Badges (mini version) -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 max-w-2xl mx-auto lg:mx-0 px-4 sm:px-0">
          <div class="text-center lg:text-left bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl p-2.5 sm:p-3 shadow-sm">
            <div class="text-xl sm:text-2xl font-bold text-primary">+150</div>
            <div class="text-[10px] sm:text-xs text-gray-600">proyectos</div>
          </div>
          <div class="text-center lg:text-left bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl p-2.5 sm:p-3 shadow-sm">
            <div class="text-xl sm:text-2xl font-bold text-primary">95%</div>
            <div class="text-[10px] sm:text-xs text-gray-600">repiten</div>
          </div>
          <div class="text-center lg:text-left bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl p-2.5 sm:p-3 shadow-sm">
            <div class="text-xl sm:text-2xl font-bold text-primary">7 dÃ­as</div>
            <div class="text-[10px] sm:text-xs text-gray-600">entrega</div>
          </div>
          <div class="text-center lg:text-left bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl p-2.5 sm:p-3 shadow-sm">
            <div class="text-xl sm:text-2xl font-bold text-primary">24h</div>
            <div class="text-[10px] sm:text-xs text-gray-600">respuesta</div>
          </div>
        </div>
      </div>

      <!-- Right Column: Visual -->
      <div class="flex-1 w-full max-w-xl lg:max-w-none">
        <div class="relative transform hover:scale-[1.02] transition-transform duration-700">
          <!-- Device mockup with landing page preview -->
          <div class="relative bg-white rounded-2xl shadow-2xl p-4">
            <!-- Browser chrome -->
            <div class="flex items-center gap-2 pb-3 border-b border-gray-100">
              <div class="flex gap-1.5">
                <div class="w-3 h-3 rounded-full bg-red-400"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                <div class="w-3 h-3 rounded-full bg-green-400"></div>
              </div>
              <div class="flex-1 mx-4">
                <div class="bg-gray-100 rounded-lg px-3 py-1.5 text-xs text-gray-500 font-mono truncate">
                  cofoundy.dev/tu-landing-page
                </div>
              </div>
            </div>

            <!-- Landing page preview content -->
            <div class="mt-4 space-y-4">
              <!-- Hero section preview -->
              <div class="bg-gradient-to-br from-primary/10 to-secondary/10 rounded-lg p-6">
                <div class="h-3 bg-dark/80 rounded w-3/4 mb-3"></div>
                <div class="h-2 bg-gray-400 rounded w-full mb-2"></div>
                <div class="h-2 bg-gray-400 rounded w-5/6 mb-4"></div>
                <div class="h-8 bg-primary rounded-lg w-32"></div>
              </div>

              <!-- Features preview -->
              <div class="grid grid-cols-3 gap-3">
                <div class="bg-gray-50 rounded-lg p-3 text-center">
                  <div class="w-8 h-8 bg-primary/20 rounded-full mx-auto mb-2"></div>
                  <div class="h-2 bg-gray-300 rounded w-full"></div>
                </div>
                <div class="bg-gray-50 rounded-lg p-3 text-center">
                  <div class="w-8 h-8 bg-primary/20 rounded-full mx-auto mb-2"></div>
                  <div class="h-2 bg-gray-300 rounded w-full"></div>
                </div>
                <div class="bg-gray-50 rounded-lg p-3 text-center">
                  <div class="w-8 h-8 bg-primary/20 rounded-full mx-auto mb-2"></div>
                  <div class="h-2 bg-gray-300 rounded w-full"></div>
                </div>
              </div>

              <!-- CTA preview -->
              <div class="bg-dark rounded-lg p-4 text-center">
                <div class="h-2 bg-white/80 rounded w-1/2 mx-auto mb-2"></div>
                <div class="h-6 bg-primary rounded-lg w-24 mx-auto"></div>
              </div>
            </div>

            <!-- Glow effect behind mockup -->
            <div class="absolute inset-0 -z-10 bg-gradient-to-r from-primary/30 to-secondary/30 rounded-2xl blur-3xl opacity-50 scale-90 animate-pulse"></div>
          </div>

          <!-- Floating elements -->
          <div class="absolute -top-4 -right-4 bg-green-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg animate-bounce-slow z-10">
            +40% Conversion
          </div>
          <div class="absolute -bottom-4 -left-4 bg-white shadow-xl rounded-xl p-3 hidden sm:block z-10">
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center">
                <svg class="w-4 h-4 text-primary" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                </svg>
              </div>
              <div>
                <div class="text-xs font-bold text-dark">Startup PerÃº 12G</div>
                <div class="text-xs text-gray-500">Ganadores 2025</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom wave decoration with animated layers -->
  <div class="absolute bottom-0 left-0 right-0 h-48 md:h-64 overflow-hidden pointer-events-none">
    <!-- Smooth gradient overlay -->
    <div class="absolute inset-x-0 bottom-0 h-24 bg-gradient-to-b from-transparent to-dark"></div>

    <!-- Animated wave layers -->
    <div class="absolute inset-0 opacity-20">
      <svg class="w-full h-full" viewBox="0 0 1440 100" fill="none" preserveAspectRatio="none">
        <path
          class="animate-wave-slow"
          d="M0 50L48 45.7C96 41.3 192 32.7 288 27.8C384 23 480 22 576 28.8C672 35.7 768 50.3 864 55.2C960 60 1056 55 1152 46.8C1248 38.7 1344 27.3 1392 21.7L1440 16V100H0V50Z"
          fill="url(#wave-gradient-1)"></path>
      </svg>
    </div>
    <div class="absolute inset-0 opacity-30">
      <svg class="w-full h-full" viewBox="0 0 1440 100" fill="none" preserveAspectRatio="none">
        <path
          class="animate-wave-medium"
          d="M0 70L48 64.3C96 58.7 192 47.3 288 44.7C384 42 480 48 576 54.8C672 61.7 768 69.3 864 69.2C960 69 1056 61 1152 55.2C1248 49.3 1344 45.7 1392 43.8L1440 42V100H0V70Z"
          fill="url(#wave-gradient-2)"></path>
      </svg>
    </div>
    <div class="absolute inset-0 opacity-40">
      <svg class="w-full h-full" viewBox="0 0 1440 100" fill="none" preserveAspectRatio="none">
        <path
          class="animate-wave-fast"
          d="M0 80L48 77.3C96 74.7 192 69.3 288 71.2C384 73 480 82 576 84.8C672 87.7 768 84.3 864 79.2C960 74 1056 67 1152 65.2C1248 63.3 1344 66.7 1392 68.3L1440 70V100H0V80Z"
          fill="url(#wave-gradient-3)"></path>
        <defs>
          <linearGradient id="wave-gradient-1" x1="0" y1="0" x2="0" y2="100" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="#46A0D0"></stop>
            <stop offset="100%" stop-color="#020B1B"></stop>
          </linearGradient>
          <linearGradient id="wave-gradient-2" x1="0" y1="0" x2="0" y2="100" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="#46A0D0"></stop>
            <stop offset="100%" stop-color="#020B1B"></stop>
          </linearGradient>
          <linearGradient id="wave-gradient-3" x1="0" y1="0" x2="0" y2="100" gradientUnits="userSpaceOnUse">
            <stop offset="0%" stop-color="#46A0D0"></stop>
            <stop offset="100%" stop-color="#020B1B"></stop>
          </linearGradient>
        </defs>
      </svg>
    </div>
  </div>
</section>

<style>
  /* Floating animations */
  @keyframes float {
    0%, 100% {
      transform: translateY(0) rotate(0);
    }
    50% {
      transform: translateY(-20px) rotate(5deg);
    }
  }

  @keyframes float-delayed {
    0%, 100% {
      transform: translateY(0) rotate(0);
    }
    50% {
      transform: translateY(-30px) rotate(-5deg);
    }
  }

  @keyframes bounce-slow {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  .animate-float {
    animation: float 15s ease-in-out infinite;
  }

  .animate-float-delayed {
    animation: float-delayed 18s ease-in-out infinite;
  }

  .animate-bounce-slow {
    animation: bounce-slow 2s ease-in-out infinite;
  }

  /* Pulse animation for glow effect */
  @keyframes pulse {
    0%, 100% {
      opacity: 0.5;
      transform: scale(0.9);
    }
    50% {
      opacity: 0.7;
      transform: scale(1);
    }
  }

  .animate-pulse {
    animation: pulse 4s ease-in-out infinite;
  }

  /* Particle animation */
  .particle-container {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .particle {
    position: absolute;
    width: var(--size);
    height: var(--size);
    background: radial-gradient(circle at center, rgba(70, 160, 208, 0.7) 0%, transparent 100%);
    border-radius: 50%;
    top: 0;
    left: var(--start-x);
    animation: particle 8s ease-in infinite;
    animation-delay: var(--delay);
  }

  @keyframes particle {
    0% {
      transform: translateY(-20px) scale(0);
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) scale(1);
      opacity: 0;
    }
  }

  /* Wave animations */
  @keyframes wave-slow {
    0%, 100% {
      d: path("M0 50L48 45.7C96 41.3 192 32.7 288 27.8C384 23 480 22 576 28.8C672 35.7 768 50.3 864 55.2C960 60 1056 55 1152 46.8C1248 38.7 1344 27.3 1392 21.7L1440 16V100H0V50Z");
    }
    50% {
      d: path("M0 60L48 55.7C96 51.3 192 42.7 288 37.8C384 33 480 32 576 38.8C672 45.7 768 60.3 864 65.2C960 70 1056 65 1152 56.8C1248 48.7 1344 37.3 1392 31.7L1440 26V100H0V60Z");
    }
  }

  @keyframes wave-medium {
    0%, 100% {
      d: path("M0 70L48 64.3C96 58.7 192 47.3 288 44.7C384 42 480 48 576 54.8C672 61.7 768 69.3 864 69.2C960 69 1056 61 1152 55.2C1248 49.3 1344 45.7 1392 43.8L1440 42V100H0V70Z");
    }
    50% {
      d: path("M0 80L48 74.3C96 68.7 192 57.3 288 54.7C384 52 480 58 576 64.8C672 71.7 768 79.3 864 79.2C960 79 1056 71 1152 65.2C1248 59.3 1344 55.7 1392 53.8L1440 52V100H0V80Z");
    }
  }

  @keyframes wave-fast {
    0%, 100% {
      d: path("M0 80L48 77.3C96 74.7 192 69.3 288 71.2C384 73 480 82 576 84.8C672 87.7 768 84.3 864 79.2C960 74 1056 67 1152 65.2C1248 63.3 1344 66.7 1392 68.3L1440 70V100H0V80Z");
    }
    50% {
      d: path("M0 90L48 87.3C96 84.7 192 79.3 288 81.2C384 83 480 92 576 94.8C672 97.7 768 94.3 864 89.2C960 84 1056 77 1152 75.2C1248 73.3 1344 76.7 1392 78.3L1440 80V100H0V90Z");
    }
  }

  .animate-wave-slow {
    animation: wave-slow 8s ease-in-out infinite;
  }

  .animate-wave-medium {
    animation: wave-medium 6s ease-in-out infinite;
  }

  .animate-wave-fast {
    animation: wave-fast 4s ease-in-out infinite;
  }

  /* Reduce animations on mobile for performance */
  @media (max-width: 640px) {
    .animate-float,
    .animate-float-delayed {
      animation-duration: 0s;
    }

    .particle-container {
      display: none;
    }

    .blur-3xl {
      --tw-blur: blur(24px);
    }
  }

  /* Reduce animations on tablet */
  @media (max-width: 1024px) {
    .particle-container {
      opacity: 0.5;
    }
  }

  /* Respect user preference for reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .animate-float,
    .animate-float-delayed,
    .animate-bounce-slow,
    .animate-pulse,
    .animate-wave-slow,
    .animate-wave-medium,
    .animate-wave-fast {
      animation: none !important;
    }

    .particle-container {
      display: none;
    }
  }
</style>
